<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Benutzerhandbuch: Runenkrieg KI-Kartenspiel</title>
<script src="https://cdn.tailwindcss.com?plugins=typography"></script>
<body class="bg-slate-900 text-slate-200 p-8">
<article class="prose prose-invert prose-slate max-w-4xl mx-auto prose-h1:text-cyan-400 prose-h2:text-teal-400 prose-a:text-cyan-400 hover:prose-a:text-cyan-300">
<h1>Benutzerhandbuch: Runenkrieg KI-Kartenspiel</h1>
<p class="lead">Willkommen bei Runenkrieg, einem spannenden digitalen Kartenspiel, in dem Sie sich einem intelligenten KI-Gegner stellen. Dieses Handbuch führt Sie durch die Regeln des Spiels, die Benutzeroberfläche und erklärt, wie Sie die künstliche Intelligenz (KI) des Gegners trainieren können, um ein noch herausfordernderes Spielerlebnis zu schaffen. Ihr Ziel ist es, die Lebenspunkte (Tokens) Ihres Gegners auf Null zu reduzieren, indem Sie strategisch Karten ausspielen und die Elemente sowie Heldenboni zu Ihrem Vorteil nutzen. Nach jeder Partie fasst ein epischer Barde (unterstützt durch Gemini) Ihre Heldentaten in einer einzigartigen Geschichte zusammen.</p>
<h2>1. Erste Schritte: Installation und Start</h2>
<div>Um das Runenkrieg KI-Kartenspiel lokal zu starten, benötigen Sie **Node.js** auf Ihrem System.<br /><br />Führen Sie die folgenden Schritte in Ihrer Kommandozeile aus:<br /><br />1.  **Abhängigkeiten installieren:**<br />    ```bash<br />    npm install<br />    ```<br />2.  **Gemini API-Schlüssel setzen (optional, für Bardengeschichten):**<br />    Erstellen Sie eine Datei namens `.env.local` im Hauptverzeichnis des Projekts und fügen Sie Ihren Gemini API-Schlüssel hinzu:<br />    ```<br />    GEMINI_API_KEY=Ihre_Gemini_API_Key_hier<br />    ```<br />    *Hinweis:* Sie können das Spiel auch ohne Gemini API-Schlüssel spielen. Die Geschichtenfunktion ist dann deaktiviert, kann aber später im Spiel aktiviert und konfiguriert werden.<br />3.  **Anwendung starten:**<br />    ```bash<br />    npm run dev<br />    ```<br />    Die Anwendung wird in Ihrem Webbrowser geöffnet, normalerweise unter `http://localhost:3000`.</div>
<h2>2. Die Benutzeroberfläche (GUI) im Überblick</h2>
<div>Die Anwendung bietet zwei Hauptansichten: das **Spielbrett** und das **KI-Trainingszentrum**.<br /><br />### 2.1 Das Spielbrett<br /><br />Das Spielbrett ist die Hauptansicht, in der Sie gegen die KI antreten. Es ist in mehrere Bereiche unterteilt:<br /><br />*   **Obere Leiste:**<br />    *   **KI-Informationen:** Zeigt den Namen des KI-Helden und seine aktuellen Tokens an.<br />    *   **Wetteranzeige:** Zeigt das aktuelle Wetter der Runde an, das Boni und Mali für bestimmte Elemente beeinflusst.<br />    *   **Gemini-Einstellungen:** Eine Checkbox "Gemini aktivieren" und ein Eingabefeld für den "Gemini API Key". Hier können Sie die Story-Generierung aktivieren/deaktivieren und Ihren API-Schlüssel eingeben.<br />    *   **"KI Training"-Button:** Wechselt zur Ansicht des KI-Trainingszentrums.<br />*   **KI-Hand:** Zeigt die verdeckten Karten der KI an. Sie können die Karten nicht sehen, aber die Anzahl der Karten in der Hand der KI ist sichtbar.<br />*   **Gespielte Karten:** In der Mitte des Bildschirms sehen Sie die von Ihnen und der KI in der aktuellen Runde gespielten Karten. Der Gewinner der Runde wird visuell hervorgehoben.<br />*   **Ihre Hand:** Zeigt Ihre verfügbaren Karten an. Klicken Sie auf eine Karte, um sie zu spielen. Wenn Sie den Mauszeiger über eine Karte bewegen, sehen Sie Details zu ihrer Stärke und ihrem Elementeffekt.<br />*   **Untere Leiste:**<br />    *   **Ihre Informationen:** Zeigt Ihren Namen ("Du"), den Namen Ihres Helden und Ihre aktuellen Tokens an.<br />    *   **Statusanzeige:** Informiert Sie über den aktuellen Spielstatus (z.B. "Du bist am Zug", "Runde X: Spieler gewinnt den Stich!").<br /><br />### 2.2 Das KI-Trainingszentrum<br /><br />Diese Ansicht ist für das Management und Training der KI vorgesehen. Sie ist in folgende Bereiche gegliedert:<br /><br />*   **Titel und Beschreibung:** "KI Trainingszentrum" und eine kurze Erklärung.<br />*   **Aktueller KI-Status:** Informiert Sie, ob die KI bereits trainiert ist oder zufällige Züge macht.<br />*   **Schritt 1: Simulation:**<br />    *   **Eingabefeld "Anzahl der Simulationen":** Hier geben Sie ein, wie viele Spiele die KI simulieren soll, um Daten zu sammeln.<br />    *   **"Simuliere X Spiele"-Button:** Startet den Simulationsprozess.<br />    *   **Statusmeldung:** Zeigt den Fortschritt der Simulation an.<br />*   **Schritt 2: Training:**<br />    *   **"Trainiere KI mit Daten"-Button:** Startet den Trainingsprozess basierend auf den gesammelten Simulationsdaten.<br />    *   **Statusmeldung:** Zeigt den Fortschritt des Trainings an.<br />*   **Simulationsanalyse:** Zeigt detaillierte Statistiken der durchgeführten Simulationen an (Siegquoten, häufigste Karten, Wetter etc.).<br />*   **Trainingsanalyse:** Zeigt Ergebnisse des KI-Trainings an, einschließlich der Abdeckung von Spielkontexten und dem "stärksten Szenario", das die KI gelernt hat.<br />*   **"Zurück zum Spiel"-Button:** Wechselt zurück zur Spielbrett-Ansicht.</div>
<h2>3. Das Spiel spielen: Schritt-für-Schritt-Anleitung</h2>
<div>Runenkrieg ist ein rundenbasiertes Kartenspiel, bei dem Sie gegen eine KI antreten. Ziel ist es, die Lebenspunkte (Tokens) Ihres Gegners auf 0 zu reduzieren, bevor er Ihre auf 0 reduziert. Beide Spieler starten mit 5 Tokens.<br /><br />### 3.1 Eine neue Partie starten<br /><br />1.  Beim ersten Start der Anwendung beginnt automatisch eine neue Partie.<br />2.  Wenn eine Partie beendet ist, erscheint ein "Spiel Vorbei!"-Bildschirm. Klicken Sie auf den Button **"Neues Spiel"**, um eine weitere Partie zu beginnen.<br /><br />### 3.2 Eine Runde spielen<br /><br />1.  **Warten auf Ihren Zug:** Die Statusanzeige in der unteren Leiste informiert Sie, wenn Sie am Zug sind ("Du bist am Zug. Wähle eine Karte.").<br />2.  **Karte auswählen:** Klicken Sie auf eine der Karten in Ihrer Hand, um sie auszuspielen. Jede Karte hat ein **Element** (z.B. Feuer, Wasser) und eine **Fähigkeit** (z.B. Funke, Avatar), die ihre Grundstärke bestimmt.<br />3.  **KI kontert:** Nachdem Sie eine Karte gespielt haben, wählt die KI automatisch eine Karte aus ihrer Hand aus. Ob sie dies zufällig oder strategisch tut, hängt davon ab, ob sie trainiert wurde.<br />4.  **Rundenauswertung:**<br />    *   Beide gespielten Karten werden in der Mitte des Bildschirms angezeigt.<br />    *   Das **Wetter** für die aktuelle Runde wird bestimmt und angezeigt.<br />    *   Die **Gesamtstärke** beider Karten wird berechnet. Diese Stärke setzt sich zusammen aus:<br />        *   **Grundwert:** Die feste Stärke der Fähigkeit (z.B. "Avatar" hat Stärke 13).<br />        *   **Wetter-Bonus:** Das Wetter kann bestimmte Elemente stärken oder schwächen (z.B. Feuerkarten sind im Regen weniger effektiv).<br />        *   **Element-Bonus:** Elemente haben Stärken und Schwächen gegeneinander (z.B. Wasser ist stark gegen Feuer).<br />        *   **Helden-Bonus:** Ihr Held gibt Ihnen einen Bonus, wenn Sie eine Karte spielen, die zu seinem Element gehört.<br />        *   **Moral-Bonus:** Sie erhalten einen Stärkebonus, wenn Sie mehr Tokens besitzen als Ihr Gegner.<br />    *   Der Gewinner der Runde wird ermittelt und seine Karte wird visuell hervorgehoben.<br />5.  **Effekte anwenden & Karten nachziehen:**<br />    *   Die Gewinnerkarte der Runde löst ihren **Element-Effekt** aus, der die Token-Anzahl der Spieler beeinflusst (z.B. Feuer reduziert Gegnertokens, Luft erhöht eigene Tokens).<br />    *   Danach ziehen beide Spieler eine Karte vom Stapel nach, solange dieser nicht leer ist und ihre Hand nicht voll ist (max. 4 Karten).<br /><br />### 3.3 Spielende<br /><br />Das Spiel endet, wenn eine der folgenden Bedingungen erfüllt ist:<br /><br />*   Ein Spieler hat **0 oder weniger Tokens**. Der Spieler mit mehr Tokens gewinnt.<br />*   Beide Spieler haben **keine Karten mehr auf der Hand** und der Nachziehstapel ist leer. Der Spieler mit mehr Tokens gewinnt.<br />*   Bei **exakt gleicher Token-Anzahl** am Ende ist das Spiel ein Unentschieden.<br /><br />Nach dem Spiel wird der "Spiel Vorbei!"-Bildschirm angezeigt. Wenn Gemini aktiviert ist, schreibt ein Barde eine Geschichte über Ihre Schlacht.</div>
<h2>4. KI-Training: Die Intelligenz Ihres Gegners formen</h2>
<div>Das KI-Trainingszentrum ermöglicht es Ihnen, die künstliche Intelligenz des Gegners zu verbessern, indem Sie sie durch Simulationen lernen lassen. Dies geschieht in zwei Hauptschritten:<br /><br />### 4.1 Schritt 1: Simulationen durchführen<br /><br />1.  **Wechseln Sie zum KI-Trainingszentrum:** Klicken Sie auf dem Spielbrett oben rechts auf den Button **"KI Training"**.<br />2.  **Anzahl der Simulationen festlegen:** Im Bereich "Schritt 1: Simulation" sehen Sie ein Eingabefeld "Anzahl der Simulationen". Geben Sie hier ein, wie viele Spiele die KI im Schnelldurchlauf spielen soll (z.B. 1000, 5000, 10000). Je mehr Simulationen, desto mehr Daten stehen für das Training zur Verfügung.<br />3.  **Simulation starten:** Klicken Sie auf den Button **"Simuliere X Spiele"**. Die Anwendung wird nun die angegebene Anzahl von Spielen im Hintergrund durchführen. Währenddessen sehen Sie einen Lade-Spinner und eine Statusmeldung.<br />4.  **Simulationsanalyse:** Nach Abschluss der Simulationen wird eine "Simulationsanalyse" angezeigt. Diese gibt Ihnen Einblicke in die Ergebnisse der simulierten Spiele, z.B. die Siegquoten von Spieler und KI, die häufigsten gespielten Karten oder das beliebteste Wetter. Dies hilft Ihnen zu verstehen, welche Daten gesammelt wurden.<br /><br />### 4.2 Schritt 2: KI trainieren<br /><br />1.  **Training starten:** Nachdem Sie Simulationen durchgeführt haben und "Simulation abgeschlossen!" angezeigt wird, klicken Sie im Bereich "Schritt 2: Training" auf den Button **"Trainiere KI mit Daten"**.<br />2.  **Trainingsprozess:** Die KI analysiert nun die gesammelten Spieldaten, um Muster zu erkennen und eine Strategie zu entwickeln. Sie lernt, welche Karten in welchen Situationen die besten Antworten sind. Dieser Prozess ist vom menschlichen Gehirn inspiriert und verwendet einen effizienten, biologisch inspirierten Ansatz namens **Sparse Dictionary Learning**.<br />3.  **Trainingsanalyse:** Nach Abschluss des Trainings wird eine "Trainingsanalyse" angezeigt. Diese zeigt Ihnen:<br />    *   **Kontexte insgesamt:** Die Anzahl der verschiedenen Spielsituationen, die die KI gelernt hat.<br />    *   **Gut abgedeckte Kontexte:** Wie viele dieser Situationen mit ausreichend Daten trainiert wurden.<br />    *   **Kontexte mit wenig Daten:** Situationen, für die mehr Simulationen hilfreich wären.<br />    *   **Ø beste Siegquote:** Die durchschnittliche Siegquote, die die KI in den gelernten Kontexten erzielen kann.<br />    *   **Stärkstes Szenario:** Ein Beispiel für eine Spielsituation, in der die KI eine besonders hohe Siegquote gelernt hat, und welche Karte sie dort am besten einsetzt.<br />4.  **KI-Status aktualisiert:** Der "Aktueller KI-Status" wird auf "KI wurde mit neuen Daten trainiert und ist aktiv." aktualisiert. Die KI wird nun ihre neu erlernte Strategie in zukünftigen Spielen anwenden.<br /><br />### 4.3 Zurück zum Spiel<br /><br />Klicken Sie auf den Button **"Zurück zum Spiel"**, um zum Spielbrett zurückzukehren und gegen die nun trainierte KI anzutreten.</div>
<h2>5. Gemini-Integration: Die Sage von Runenkrieg</h2>
<div>Das Runenkrieg-Spiel bietet die Möglichkeit, nach jeder Partie eine einzigartige Geschichte über den Kampfverlauf zu generieren, geschrieben von einem "epischen Barden" (unterstützt durch Google Gemini).<br /><br />### 5.1 Gemini aktivieren und konfigurieren<br /><br />1.  **Auf dem Spielbrett:** In der oberen Leiste des Spielbretts finden Sie eine Checkbox **"Gemini aktivieren"** und ein Eingabefeld **"Gemini API Key"**.<br />2.  **Aktivieren:** Setzen Sie ein Häkchen bei "Gemini aktivieren".<br />3.  **API-Schlüssel eingeben:** Geben Sie Ihren persönlichen Gemini API-Schlüssel in das Textfeld ein. Dieser Schlüssel wird lokal in Ihrem Browser gespeichert, sodass Sie ihn nicht bei jedem Start neu eingeben müssen.<br />    *   *Hinweis:* Wenn Sie keinen API-Schlüssel haben oder Gemini nicht nutzen möchten, lassen Sie die Checkbox deaktiviert. Es wird dann keine Geschichte generiert.<br /><br />### 5.2 Geschichten generieren<br /><br />1.  Sobald Gemini aktiviert und ein gültiger API-Schlüssel hinterlegt ist, wird nach jedem Spielende automatisch versucht, eine Geschichte zu generieren.<br />2.  Auf dem "Spiel Vorbei!"-Bildschirm sehen Sie einen Lade-Spinner und die Meldung "Der Barde schreibt die Geschichte Eures Kampfes...".<br />3.  Nach kurzer Zeit erscheint die generierte Geschichte im Bereich **"Die Sage von Runenkrieg"**.<br />4.  Sollte es Probleme bei der Generierung geben (z.B. ungültiger API-Schlüssel, Netzwerkfehler), erhalten Sie eine entsprechende Fehlermeldung anstelle der Geschichte.</div>
<h2>6. Fehlerbehebung und Häufig gestellte Fragen (FAQ)</h2>
<div>### 6.1 Das Spiel startet nicht oder zeigt Fehler an.<br />*   **Prüfen Sie die Installation:** Stellen Sie sicher, dass Sie alle Abhängigkeiten mit `npm install` installiert haben.<br />*   **Node.js Version:** Vergewissern Sie sich, dass Node.js korrekt installiert ist und eine unterstützte Version verwendet wird.<br />*   **Browser-Konsole:** Öffnen Sie die Entwicklerkonsole Ihres Browsers (meist F12) und suchen Sie nach Fehlermeldungen. Diese können Hinweise auf das Problem geben.<br /><br />### 6.2 Die KI macht nur zufällige Züge.<br />*   Die KI ist standardmäßig nicht trainiert. Wechseln Sie zum **"KI Training"**-Zentrum und führen Sie die Schritte zur **Simulation** und zum **Training** durch, um die KI zu verbessern.<br />*   Überprüfen Sie den "Aktueller KI-Status" im Trainingszentrum. Er sollte "KI wurde mit neuen Daten trainiert und ist aktiv." anzeigen, wenn das Training erfolgreich war.<br /><br />### 6.3 Es wird keine Bardengeschichte generiert.<br />*   **Gemini aktiviert?** Stellen Sie sicher, dass die Checkbox "Gemini aktivieren" auf dem Spielbrett angehakt ist.<br />*   **API-Schlüssel vorhanden?** Überprüfen Sie, ob Sie einen gültigen Gemini API-Schlüssel in das entsprechende Feld eingegeben haben. Ein leerer oder ungültiger Schlüssel verhindert die Generierung.<br />*   **Netzwerkverbindung:** Eine aktive Internetverbindung ist erforderlich, um die Gemini-API zu kontaktieren.<br />*   **Fehlermeldung:** Achten Sie auf die Meldung auf dem "Spiel Vorbei!"-Bildschirm. Sie gibt Aufschluss darüber, warum keine Geschichte generiert werden konnte.<br /><br />### 6.4 Was bedeuten die Werte in der Simulations- und Trainingsanalyse?<br />*   **Siegquote:** Der Prozentsatz der Runden oder Spiele, die ein Spieler (oder die KI) gewonnen hat.<br />*   **Ø Token nach Runden:** Der durchschnittliche Token-Stand des Spielers/der KI nach jeder Runde in den Simulationen.<br />*   **Kontexte:** Bezieht sich auf spezifische Spielsituationen (Kombination aus gespielter Spielerkarte, Wetter, Helden und Token-Differenz), für die die KI gelernt hat, wie sie am besten reagiert.<br />*   **Stärkstes Szenario:** Zeigt eine spezifische Spielsituation, in der die KI die höchste Siegwahrscheinlichkeit gelernt hat, wenn sie eine bestimmte Karte spielt.</div>
</article>
</body>
</html>